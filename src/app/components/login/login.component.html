<section class="bg-main-light shadow  p-2 my-2 rounded-4">
  <h1 class="h2 text-main">login Now:</h1>


  <form [formGroup]="loginForm" (ngSubmit)="loginSubmite()">

    <div class="my-2">
      <label for="email">email</label>
      <input [ngClass]="{
          'is-valid': !loginForm.get('email')?.errors  && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty ),
          'is-invalid':loginForm.get('email')?.errors   && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty )
        }" id="email" type="email" class="form-control" formControlName="email">

      @if (loginForm.get('email')?.errors && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty ) )
      {
      <div class="alert alert-danger w-50">
        @if (loginForm.get('email')?.getError('required'))
        {
        <p class="m-0"> "Email Is Required "</p>
        }
        @else if (loginForm.get('email')?.getError('email'))
        {
        <p class="m-0"> "Enter Valid Email" </p>
        }
      </div>
      }
    </div>

    <div class="my-2">
      <label for="password">password</label>
      <input [ngClass]="{
          'is-valid': !loginForm.get('password')?.errors  && ( loginForm.get('password')?.touched || loginForm.get('password')?.dirty),
          'is-invalid':loginForm.get('password')?.errors  && ( loginForm.get('password')?.touched || loginForm.get('password')?.dirty)
        }" id="password" type="password" class="form-control" formControlName="password">

      @if (loginForm.get('password')?.errors && ( loginForm.get('password')?.touched ||
      loginForm.get('password')?.dirty))
      {
      <div class="alert alert-danger w-50">
        @if (loginForm.get('password')?.getError('required'))
        {
        <p class="m-0"> "password Is Required"</p>
        }
        @else if (loginForm.get('password')?.getError('pattern'))
        {
        <p class="m-0">" Enter Valid password "</p>
        }
      </div>
      }
    </div>

       <div class="d-flex align-items-center justify-content-end gap-4">
        <a  routerLink ="/forgot"  class="link-primary">Forgotpassword</a>
        <button [disabled]="loginForm.invalid || isloading" type="submit" class="btn-main ">login

          @if (isloading)
          {
          <span> <i class="fas fa-spin fa-spinner"></i> </span>
          }
        </button>
       </div>


    @if (msgError)
    {
    <p class="alert alert-danger  w-50  m-1"> {{msgError}} </p>
    }
  </form>
</section>
